{"version":3,"file":"_server.ts-DiYY6dw0.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/(app)/dashboard/(users)/quizzes/_id_/start/_server.ts.js"],"sourcesContent":["import { j as json } from \"../../../../../../../../chunks/index.js\";\nimport { p as pb } from \"../../../../../../../../chunks/pb.js\";\nimport { DateTime } from \"luxon\";\nconst POST = async ({ locals, params, url, request }) => {\n  let userQuiz;\n  const jsonData = await request.json();\n  console.log(jsonData);\n  try {\n    userQuiz = await pb.collection(\"userQuizzes\").getFirstListItem(`user = \"${locals.user?.id}\" && quiz = \"${params.id}\"`);\n  } catch (e) {\n    return json(\n      {\n        message: \"Tidak ditemukan\"\n      },\n      {\n        status: 404\n      }\n    );\n  }\n  try {\n    await pb.collection(\"userQuizzes\").update(userQuiz.id, {\n      answers: Object.values(jsonData.answerIds),\n      isSubmitted: DateTime.fromMillis(userQuiz.endTime).diffNow().toMillis() <= 0\n    });\n  } catch (e) {\n    return json(\n      {\n        message: \"Gagal disimpan\"\n      },\n      {\n        status: 400\n      }\n    );\n  }\n  return json(null);\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;AAGK,MAAC,IAAI,GAAG,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,KAAK;AACzD,EAAE,IAAI,QAAQ;AACd,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACvC,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;AACvB,EAAE,IAAI;AACN,IAAI,QAAQ,GAAG,MAAM,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,aAAa,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC1H,GAAG,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,OAAO,IAAI;AACf,MAAM;AACN,QAAQ,OAAO,EAAE;AACjB,OAAO;AACP,MAAM;AACN,QAAQ,MAAM,EAAE;AAChB;AACA,KAAK;AACL;AACA,EAAE,IAAI;AACN,IAAI,MAAM,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE;AAC3D,MAAM,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;AAChD,MAAM,WAAW,EAAE,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,IAAI;AACjF,KAAK,CAAC;AACN,GAAG,CAAC,OAAO,CAAC,EAAE;AACd,IAAI,OAAO,IAAI;AACf,MAAM;AACN,QAAQ,OAAO,EAAE;AACjB,OAAO;AACP,MAAM;AACN,QAAQ,MAAM,EAAE;AAChB;AACA,KAAK;AACL;AACA,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC;AACnB;;;;"}