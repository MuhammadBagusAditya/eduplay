var wr=Object.defineProperty;var ir=o=>{throw TypeError(o)};var Ar=(o,t,a)=>t in o?wr(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;var Dt=(o,t,a)=>Ar(o,typeof t!="symbol"?t+"":t,a),nr=(o,t,a)=>t.has(o)||ir("Cannot "+a);var s=(o,t,a)=>(nr(o,t,"read from private field"),a?a.call(o):t.get(o)),h=(o,t,a)=>t.has(o)?ir("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,a),k=(o,t,a,d)=>(nr(o,t,"write to private field"),d?d.call(o,a):t.set(o,a),a);import"../chunks/disclose-version.Bg9kRutz.js";import{d as C,g as i,e as lr,a2 as Dr,u as mr,b as dr,p as Ft,f as n,c as X,i as qt,r as Z,t as W,a as Et,s as l,$ as Ir,n as w}from"../chunks/runtime.Bp4x7A-a.js";import{p as cr,c as x,i as Kt,r as Mt,g as er,s as kr,h as Cr,y as Tr,b as Vt,d as Rr,a as Sr}from"../chunks/props.DpK8ESsy.js";import{e as qe,i as Ye}from"../chunks/lifecycle.eq67AOaA.js";import{c as g,a as e,b as u,t as B}from"../chunks/template.DQ3Ggw9n.js";import{c as r}from"../chunks/svelte-component.CVO9o64T.js";import{a as le,c as jt,s as Je,r as Fr}from"../chunks/utils.Dqu1-Wdg.js";import{a as Er}from"../chunks/input.aIcynM5P.js";import{C as Qe,a as We}from"../chunks/card-content.C5_W8gaf.js";import{B as Or,a as Br,b as de,c as we,d as Ae,e as Nr}from"../chunks/breadcrumb-page.BYoj9mJR.js";import{S as Vr}from"../chunks/separator.CWRbQcxc.js";import{R as De,T as Ie,D as ke,a as Ce,b as Te,c as Re}from"../chunks/index.CrvKBJSA.js";import{R as Mr,T as zr,D as Gr,G as ur,a as Hr,b as jr,c as hr}from"../chunks/index.BkimSpTC.js";import{s as Lr,f as Ur,F as Kr,C as qr,a as Yr,b as Jr}from"../chunks/formData.B4uWq1rj.js";import{B as Se,b as Xe}from"../chunks/button.DODvjd4i.js";import{s as $t}from"../chunks/snippet.DzwRyOEQ.js";import{a as pe,u as ne,b as U,m as be}from"../chunks/use-id.B41njTOf.js";import{d as _r,S as Qr,f as Wr,k as Xr,n as Zr,g as ta}from"../chunks/scroll-lock.Cdff5hXG.js";import{j as He,d as je,b as xe,k as ea,l as ra}from"../chunks/attrs.CqXQdisa.js";import{u as aa}from"../chunks/use-roving-focus.svelte.BDw_mrE0.js";import{I as Jt}from"../chunks/Icon.CHCRpPhx.js";import{B as Ze}from"../chunks/badge.CBks-o04.js";import{I as sa}from"../chunks/input.CJsoznPS.js";import"../chunks/legacy.CtaTdtmd.js";import{g as vr,a as oa}from"../chunks/entry.LQerjGIt.js";import{z as ia}from"../chunks/zod.B2p22QL9.js";import{a as na}from"../chunks/assignments.BePeZ3lL.js";import{t as Qt}from"../chunks/Toaster.svelte_svelte_type_style_lang.S0vXD1Br.js";import{p as tr}from"../chunks/pb.DLudHD8Y.js";import{D as fr}from"../chunks/dialog-description.BFv0Xkh4.js";import{C as la}from"../chunks/chevron-down.Bv1qxjYC.js";const da="data-accordion-root",gr="data-accordion-trigger",ca="data-accordion-content",ua="data-accordion-item",ha="data-accordion-header";var Wt,ce,ue,Fe;class $r{constructor(t){h(this,Wt);h(this,ce);Dt(this,"disabled");h(this,ue);Dt(this,"orientation");Dt(this,"rovingFocusGroup");h(this,Fe,C(()=>({id:s(this,Wt).current,"data-orientation":xe(this.orientation.current),"data-disabled":je(this.disabled.current),[da]:""})));k(this,Wt,t.id),this.disabled=t.disabled,k(this,ce,t.ref),pe({id:t.id,ref:s(this,ce)}),this.orientation=t.orientation,k(this,ue,t.loop),this.rovingFocusGroup=aa({rootNodeId:s(this,Wt),candidateAttr:gr,loop:s(this,ue),orientation:this.orientation})}get props(){return i(s(this,Fe))}}Wt=new WeakMap,ce=new WeakMap,ue=new WeakMap,Fe=new WeakMap;var Xt;class va extends $r{constructor(a){super(a);h(this,Xt);Dt(this,"isMulti",!1);k(this,Xt,a.value),this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(a){return s(this,Xt).current===a}toggleItem(a){s(this,Xt).current=this.includesItem(a)?"":a}}Xt=new WeakMap;var Rt;class fa extends $r{constructor(a){super(a);h(this,Rt);Dt(this,"isMulti",!0);k(this,Rt,a.value),this.includesItem=this.includesItem.bind(this),this.toggleItem=this.toggleItem.bind(this)}includesItem(a){return s(this,Rt).current.includes(a)}toggleItem(a){this.includesItem(a)?s(this,Rt).current=s(this,Rt).current.filter(d=>d!==a):s(this,Rt).current=[...s(this,Rt).current,a]}}Rt=new WeakMap;var Zt,he,Ee,Oe,Be;class ma{constructor(t){h(this,Zt);h(this,he);Dt(this,"value");Dt(this,"disabled");Dt(this,"root");h(this,Ee,C(()=>this.root.includesItem(this.value.current)));h(this,Oe,C(()=>this.disabled.current||this.root.disabled.current));h(this,Be,C(()=>({id:s(this,Zt).current,"data-state":He(this.isActive),"data-disabled":je(this.isDisabled),"data-orientation":xe(this.root.orientation.current),[ua]:""})));this.value=t.value,this.disabled=t.disabled,this.root=t.rootState,k(this,Zt,t.id),k(this,he,t.ref),this.updateValue=this.updateValue.bind(this),pe({id:s(this,Zt),ref:s(this,he),deps:()=>this.isActive})}get isActive(){return i(s(this,Ee))}get isDisabled(){return i(s(this,Oe))}updateValue(){this.root.toggleItem(this.value.current)}get props(){return i(s(this,Be))}}Zt=new WeakMap,he=new WeakMap,Ee=new WeakMap,Oe=new WeakMap,Be=new WeakMap;var te,ve,fe,Lt,It,St,Ne;class _a{constructor(t,a){h(this,te);h(this,ve);h(this,fe);h(this,Lt);h(this,It);h(this,St,C(()=>s(this,ve).current||s(this,It).disabled.current||s(this,Lt).disabled.current));h(this,Ne,C(()=>({id:s(this,fe).current,disabled:i(s(this,St)),"aria-expanded":ea(s(this,It).isActive),"aria-disabled":ra(i(s(this,St))),"data-disabled":je(i(s(this,St))),"data-state":He(s(this,It).isActive),"data-orientation":xe(s(this,Lt).orientation.current),[gr]:"",tabindex:0,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));k(this,ve,t.disabled),k(this,It,a),k(this,Lt,a.root),k(this,fe,t.id),k(this,te,t.ref),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onkeydown=this.onkeydown.bind(this),pe({id:t.id,ref:s(this,te)})}onpointerdown(t){if(!i(s(this,St))){if(t.pointerType==="touch"||t.button!==0)return t.preventDefault();s(this,It).updateValue()}}onpointerup(t){i(s(this,St))||t.pointerType==="touch"&&(t.preventDefault(),s(this,It).updateValue())}onkeydown(t){if(!i(s(this,St))){if(t.key===Qr||t.key===Wr){t.preventDefault(),s(this,It).updateValue();return}s(this,Lt).rovingFocusGroup.handleKeydown(s(this,te).current,t)}}get props(){return i(s(this,Ne))}}te=new WeakMap,ve=new WeakMap,fe=new WeakMap,Lt=new WeakMap,It=new WeakMap,St=new WeakMap,Ne=new WeakMap;var Ut,ee,re,ae,me,_e,ge,Ve,Me,ze;class ga{constructor(t,a){Dt(this,"item");h(this,Ut);h(this,ee);h(this,re);h(this,ae,!1);h(this,me,lr(0));h(this,_e,lr(0));h(this,ge);h(this,Ve,C(()=>s(this,ge).current||this.item.isActive));h(this,Me,C(()=>({open:this.item.isActive})));h(this,ze,C(()=>({id:s(this,ee).current,"data-state":He(this.item.isActive),"data-disabled":je(this.item.isDisabled),"data-orientation":xe(this.item.root.orientation.current),[ca]:"",style:{"--bits-accordion-content-height":`${i(s(this,_e))}px`,"--bits-accordion-content-width":`${i(s(this,me))}px`}})));this.item=a,k(this,ge,t.forceMount),k(this,ae,this.item.isActive),k(this,ee,t.id),k(this,Ut,t.ref),pe({id:s(this,ee),ref:s(this,Ut)}),Dr(()=>{const d=requestAnimationFrame(()=>{k(this,ae,!1)});return()=>{cancelAnimationFrame(d)}}),mr(()=>{this.present;const d=s(this,Ut).current;d&&Xr(()=>{if(!s(this,Ut).current)return;k(this,re,s(this,re)||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName}),d.style.transitionDuration="0s",d.style.animationName="none";const p=d.getBoundingClientRect();if(dr(s(this,_e),cr(p.height)),dr(s(this,me),cr(p.width)),!s(this,ae)){const{animationName:T,transitionDuration:R}=s(this,re);d.style.transitionDuration=R,d.style.animationName=T}})})}get present(){return i(s(this,Ve))}get snippetProps(){return i(s(this,Me))}get props(){return i(s(this,ze))}}Ut=new WeakMap,ee=new WeakMap,re=new WeakMap,ae=new WeakMap,me=new WeakMap,_e=new WeakMap,ge=new WeakMap,Ve=new WeakMap,Me=new WeakMap,ze=new WeakMap;var se,$e,oe,ie,Ge;class $a{constructor(t,a){h(this,se);h(this,$e);h(this,oe);h(this,ie);h(this,Ge,C(()=>({id:s(this,se).current,role:"heading","aria-level":s(this,oe).current,"data-heading-level":s(this,oe).current,"data-state":He(s(this,ie).isActive),"data-orientation":xe(s(this,ie).root.orientation.current),[ha]:""})));k(this,oe,t.level),k(this,se,t.id),k(this,$e,t.ref),pe({id:s(this,se),ref:s(this,$e)}),k(this,ie,a)}get props(){return i(s(this,Ge))}}se=new WeakMap,$e=new WeakMap,oe=new WeakMap,ie=new WeakMap,Ge=new WeakMap;const[pa,ba]=_r("Accordion.Root"),[xa,rr]=_r("Accordion.Item");function Pa(o){const{type:t,...a}=o,d=t==="single"?new va(a):new fa(a);return pa(d)}function ya(o){const t=ba();return xa(new ma({...o,rootState:t}))}function wa(o){const t=rr();return new _a(o,t)}function Aa(o){const t=rr();return new ga(o,t)}function Da(o){const t=rr();return new $a(o,t)}var Ia=u("<div><!></div>");function ka(o,t){Ft(t,!0);let a=x(t,"disabled",3,!1),d=x(t,"value",15),p=x(t,"ref",15,null),T=x(t,"id",19,ne),R=x(t,"onValueChange",3,Zr),V=x(t,"loop",3,!0),S=x(t,"orientation",3,"vertical"),A=x(t,"controlledValue",3,!1),D=Mt(t,["$$slots","$$events","$$legacy","disabled","children","child","type","value","ref","id","onValueChange","loop","orientation","controlledValue"]);d()===void 0&&d(t.type==="single"?"":[]);const c=Pa({type:t.type,value:U.with(()=>d(),F=>{A()||d(F),R()(F)}),id:U.with(()=>T()),disabled:U.with(()=>a()),loop:U.with(()=>V()),orientation:U.with(()=>S()),ref:U.with(()=>p(),F=>p(F))}),f=C(()=>be(D,c.props));var tt=g(),pt=n(tt);Kt(pt,()=>t.child,F=>{var H=g(),kt=n(H);$t(kt,()=>t.child,()=>({props:i(f)})),e(F,H)},F=>{var H=Ia();let kt;var E=X(H);$t(E,()=>t.children??qt),Z(H),W(()=>kt=le(H,kt,{...i(f)})),e(F,H)}),e(o,tt),Et()}var Ca=u("<div><!></div>");function Ta(o,t){Ft(t,!0);let a=x(t,"id",19,ne),d=x(t,"disabled",3,!1),p=x(t,"value",19,ne),T=x(t,"ref",15,null),R=Mt(t,["$$slots","$$events","$$legacy","id","disabled","value","children","child","ref"]);const V=ya({value:U.with(()=>p()),disabled:U.with(()=>d()),id:U.with(()=>a()),ref:U.with(()=>T(),c=>T(c))}),S=C(()=>be(R,V.props));var A=g(),D=n(A);Kt(D,()=>t.child,c=>{var f=g(),tt=n(f);$t(tt,()=>t.child,()=>({props:i(S)})),e(c,f)},c=>{var f=Ca();let tt;var pt=X(f);$t(pt,()=>t.children??qt),Z(f),W(()=>tt=le(f,tt,{...i(S)})),e(c,f)}),e(o,A),Et()}var Ra=u("<div><!></div>");function Sa(o,t){Ft(t,!0);let a=x(t,"id",19,ne),d=x(t,"level",3,2),p=x(t,"ref",15,null),T=Mt(t,["$$slots","$$events","$$legacy","id","level","children","child","ref"]);const R=Da({id:U.with(()=>a()),level:U.with(()=>d()),ref:U.with(()=>p(),D=>p(D))}),V=C(()=>be(T,R.props));var S=g(),A=n(S);Kt(A,()=>t.child,D=>{var c=g(),f=n(c);$t(f,()=>t.child,()=>({props:i(V)})),e(D,c)},D=>{var c=Ra();let f;var tt=X(c);$t(tt,()=>t.children??qt),Z(c),W(()=>f=le(c,f,{...i(V)})),e(D,c)}),e(o,S),Et()}var Fa=u("<button><!></button>");function Ea(o,t){Ft(t,!0);let a=x(t,"disabled",3,!1),d=x(t,"ref",15,null),p=x(t,"id",19,ne),T=Mt(t,["$$slots","$$events","$$legacy","disabled","ref","id","children","child"]);const R=wa({disabled:U.with(()=>a()),id:U.with(()=>p()),ref:U.with(()=>d(),D=>d(D))}),V=C(()=>be(T,R.props));var S=g(),A=n(S);Kt(A,()=>t.child,D=>{var c=g(),f=n(c);$t(f,()=>t.child,()=>({props:i(V)})),e(D,c)},D=>{var c=Fa();let f;var tt=X(c);$t(tt,()=>t.children??qt),Z(c),W(()=>f=le(c,f,{type:"button",...i(V)})),e(D,c)}),e(o,S),Et()}var Oa=u("<div><!></div>");function Ba(o,t){Ft(t,!0);let a=x(t,"ref",15,null),d=x(t,"id",19,ne),p=x(t,"forceMount",3,!1),T=Mt(t,["$$slots","$$events","$$legacy","child","ref","id","forceMount","children"]);const R=Aa({forceMount:U.with(()=>p()),id:U.with(()=>d()),ref:U.with(()=>a(),V=>a(V))});ta(o,{forceMount:!0,get present(){return R.present},get id(){return d()},presence:(S,A)=>{let D=()=>A==null?void 0:A().present;var c=g();const f=C(()=>be(T,R.props,{hidden:p()?void 0:!D().current}));var tt=n(c);Kt(tt,()=>t.child,pt=>{var F=g(),H=n(F);$t(H,()=>t.child,()=>({props:i(f),...R.snippetProps})),e(pt,F)},pt=>{var F=Oa();let H;var kt=X(F);$t(kt,()=>t.children??qt),Z(F),W(()=>H=le(F,H,{...i(f)})),e(pt,F)}),e(S,c)},$$slots:{presence:!0}}),Et()}var Na=u('<div class="pb-4 pt-0"><!></div>');function Va(o,t){Ft(t,!0);let a=x(t,"ref",15,null),d=Mt(t,["$$slots","$$events","$$legacy","ref","class","children"]);var p=g(),T=n(p),R=C(()=>jt("data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm transition-all",t.class));r(T,()=>Ba,(V,S)=>{S(V,er({get ref(){return a()},set ref(A){a(A)},get class(){return i(R)}},()=>d,{children:(A,D)=>{var c=Na(),f=X(c);$t(f,()=>t.children??qt),Z(c),e(A,c)},$$slots:{default:!0}}))}),e(o,p),Et()}function Ma(o,t){Ft(t,!0);let a=x(t,"ref",15,null),d=Mt(t,["$$slots","$$events","$$legacy","ref","class"]);var p=g(),T=n(p),R=C(()=>jt("border-b",t.class));r(T,()=>Ta,(V,S)=>{S(V,er({get ref(){return a()},set ref(A){a(A)},get class(){return i(R)}},()=>d))}),e(o,p),Et()}var za=u("<!> <!>",1);function Ga(o,t){Ft(t,!0);let a=x(t,"ref",15,null),d=x(t,"level",3,3),p=Mt(t,["$$slots","$$events","$$legacy","ref","class","level","children"]);var T=g(),R=n(T);r(R,()=>Sa,(V,S)=>{S(V,{get level(){return d()},class:"flex",children:(A,D)=>{var c=g(),f=n(c),tt=C(()=>jt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t.class));r(f,()=>Ea,(pt,F)=>{F(pt,er({get ref(){return a()},set ref(H){a(H)},get class(){return i(tt)}},()=>p,{children:(H,kt)=>{var E=za(),et=n(E);$t(et,()=>t.children??qt);var ct=l(et,2);la(ct,{class:"size-4 shrink-0 transition-transform duration-200"}),e(H,E)},$$slots:{default:!0}}))}),e(A,c)},$$slots:{default:!0}})}),e(o,T),Et()}const Ha=ka;var ja=u("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),La=u('<!> <a class="text-sm">Edit tugas</a>',1),Ua=u("<!> <!>",1),Ka=u("<!> <!>",1),qa=u("<!> <!> <!>",1),Ya=u("<!> <!>",1),Ja=u("<!> <!>",1),Qa=u("<!> <!>",1),Wa=u("<!> <!>",1),Xa=u('<h2 class="mb-4 text-lg font-bold text-primary sm:text-xl">Deskripsi tugas</h2> <p class="mb-3 text-sm text-slate-700"> </p> <!>',1),Za=u("<!> <!>",1),ts=u("<!> <!>",1),es=u("<!> <!>",1),rs=u('<div class="flex items-center gap-2"><!> <a class="flex-1 overflow-hidden text-ellipsis whitespace-nowrap text-slate-700 underline"> </a> <!></div> <!>',1),as=u("<!> Upload file",1),ss=u("<!> <input>",1),os=u("<!> <!>",1),is=u('<form action="?/upload-attachment" method="post" enctype="multipart/form-data"><!> <!> <!></form>'),ns=u("<!> <!>",1),ls=u('<h2 class="mb-4 text-lg font-bold text-primary sm:text-xl">Lampiran tugas</h2> <div class="flex flex-col gap-3"><!> <!></div>',1),ds=u(" <!>",1),cs=u('<a class="text-slate-600"> </a>'),us=u('<form class="flex flex-col gap-3"><!> <!> <!></form>'),hs=u("<!> <!>",1),vs=u('<div class="flex flex-col gap-2"><!> <!></div>'),fs=u("<!> <!>",1),ms=u('<p class="text-center text-slate-700">Tidak ada data</p>'),_s=u('<h2 class="mb-4 text-lg font-bold text-primary sm:text-xl">Pengumpulan tugas</h2> <!>',1),gs=u('<div class="grid grid-cols-1 grid-rows-[repeat(auto-fit,_max-content)] gap-6 xl:grid-cols-[1fr,_40%]"><!> <header class="relative z-0 col-span-1 overflow-hidden rounded-xl bg-primary px-6 py-4 shadow shadow-slate-900/20 xl:col-span-2"><div class=" flex flex-wrap items-center justify-between gap-4"><h1 class="text-xl font-bold capitalize text-slate-100 sm:text-2xl"> </h1> <!></div></header> <!> <!> <!></div>');function Ws(o,t){Ft(t,!0);const a=kr(),d=()=>Sr(T,"$attachment",a),p=Lr(t.data.attachmentForm,{validators:ia(na)}),T=Ur(p,"attachment");async function R(){try{if((await fetch("/dashboard/teachers/assignments/"+t.data.assignment.id,{method:"delete"})).status>399)throw new Error("");Qt.success("Alert",{description:"Tugas berhasil dihapus",dismissable:!0}),vr("/dashboard/teachers/classes/"+t.data.assignment.classroom)}catch{Qt.error("Alert",{description:"Anda tidak memiliki akses untuk menghapus",dismissable:!0})}}async function V(E){try{if((await fetch("/dashboard/teachers/attachments/"+E,{method:"delete"})).status>399)throw new Error("");Qt.success("Alert",{description:"File berhasil dihapus",dismissable:!0}),vr("/dashboard/teachers/assignments/"+t.data.assignment.id,{invalidateAll:!0})}catch{Qt.error("Alert",{description:"Anda tidak memiliki akses untuk menghapus",dismissable:!0})}}mr(()=>{var E,et,ct;(E=t.form)!=null&&E.message&&(((ct=(et=t.form)==null?void 0:et.message)==null?void 0:ct.variant)==="primary"?Qt.success("Alert",{description:t.form.message.text,dismissable:!0}):Qt.error("Alert",{description:t.form.message.text,dismissable:!0}))});var S=gs();Cr(E=>{W(()=>Ir.title=`Eduplay - Tugas ${t.data.assignment.name??""}`)});var A=X(S);r(A,()=>Or,(E,et)=>{et(E,{class:"xl:col-span-2",children:(ct,Pe)=>{var ut=g(),wt=n(ut);r(wt,()=>Br,(Ct,bt)=>{bt(Ct,{children:(xt,zt)=>{var ft=ja(),rt=n(ft);r(rt,()=>de,(m,v)=>{v(m,{children:(_,q)=>{var $=g(),y=n($);r(y,()=>we,(Y,b)=>{b(Y,{href:"/dashboard",children:(O,M)=>{w();var N=B("Dashboard");e(O,N)},$$slots:{default:!0}})}),e(_,$)},$$slots:{default:!0}})});var at=l(rt,2);r(at,()=>Ae,(m,v)=>{v(m,{})});var ht=l(at,2);r(ht,()=>de,(m,v)=>{v(m,{children:(_,q)=>{var $=g(),y=n($);r(y,()=>we,(Y,b)=>{b(Y,{href:"/dashboard/teachers/classes",children:(O,M)=>{w();var N=B("Kelas");e(O,N)},$$slots:{default:!0}})}),e(_,$)},$$slots:{default:!0}})});var K=l(ht,2);r(K,()=>Ae,(m,v)=>{v(m,{})});var I=l(K,2);r(I,()=>de,(m,v)=>{v(m,{children:(_,q)=>{var $=g(),y=n($),Y=C(()=>{var b;return"/dashboard/teachers/classes/"+((b=t.data.assignment.expand)==null?void 0:b.classroom.id)});r(y,()=>we,(b,O)=>{O(b,{get href(){return i(Y)},class:"capitalize",children:(M,N)=>{w();var vt=B();W(()=>{var j;return Vt(vt,(j=t.data.assignment.expand)==null?void 0:j.classroom.name)}),e(M,vt)},$$slots:{default:!0}})}),e(_,$)},$$slots:{default:!0}})});var P=l(I,2);r(P,()=>Ae,(m,v)=>{v(m,{})});var st=l(P,2);r(st,()=>de,(m,v)=>{v(m,{children:(_,q)=>{var $=g(),y=n($);r(y,()=>we,(Y,b)=>{b(Y,{href:"/dashboard/teachers/assignments",children:(O,M)=>{w();var N=B("Tugas");e(O,N)},$$slots:{default:!0}})}),e(_,$)},$$slots:{default:!0}})});var it=l(st,2);r(it,()=>Ae,(m,v)=>{v(m,{})});var nt=l(it,2);r(nt,()=>de,(m,v)=>{v(m,{children:(_,q)=>{var $=g(),y=n($);r(y,()=>Nr,(Y,b)=>{b(Y,{class:"capitalize",children:(O,M)=>{w();var N=B();W(()=>Vt(N,t.data.assignment.name)),e(O,N)},$$slots:{default:!0}})}),e(_,$)},$$slots:{default:!0}})}),e(xt,ft)},$$slots:{default:!0}})}),e(ct,ut)},$$slots:{default:!0}})});var D=l(A,2),c=X(D),f=X(c),tt=X(f,!0);Z(f);var pt=l(f,2);r(pt,()=>De,(E,et)=>{et(E,{children:(ct,Pe)=>{var ut=Wa(),wt=n(ut);r(wt,()=>Mr,(bt,xt)=>{xt(bt,{children:(zt,ft)=>{var rt=Ya(),at=n(rt);r(at,()=>zr,(K,I)=>{I(K,{children:(P,st)=>{Jt(P,{icon:"mdi:dots-vertical",class:"text-3xl text-slate-300"})},$$slots:{default:!0}})});var ht=l(at,2);r(ht,()=>Gr,(K,I)=>{I(K,{class:"w-56",children:(P,st)=>{var it=g(),nt=n(it);r(nt,()=>ur,(m,v)=>{v(m,{children:(_,q)=>{var $=qa(),y=n($);r(y,()=>Hr,(O,M)=>{M(O,{children:(N,vt)=>{w();var j=B("Aksi");e(N,j)},$$slots:{default:!0}})});var Y=l(y,2);r(Y,()=>jr,(O,M)=>{M(O,{})});var b=l(Y,2);r(b,()=>ur,(O,M)=>{M(O,{children:(N,vt)=>{var j=Ka(),lt=n(j);r(lt,()=>hr,(ot,J)=>{J(ot,{children:(Q,mt)=>{var z=La(),L=n(z);Jt(L,{icon:"mdi:pencil-outline",class:""});var G=l(L,2);W(()=>Je(G,"href","/dashboard/teachers/assignments/"+t.data.assignment.id+"/edit")),e(Q,z)},$$slots:{default:!0}})});var _t=l(lt,2);r(_t,()=>hr,(ot,J)=>{J(ot,{children:(Q,mt)=>{var z=Ua(),L=n(z);Jt(L,{icon:"mdi:trash-can-outline",class:"text-destructive"});var G=l(L,2);r(G,()=>Ie,(dt,Ot)=>{Ot(dt,{class:"w-full text-left text-sm text-destructive",children:(gt,At)=>{w();var Pt=B("Hapus tugas");e(gt,Pt)},$$slots:{default:!0}})}),e(Q,z)},$$slots:{default:!0}})}),e(N,j)},$$slots:{default:!0}})}),e(_,$)},$$slots:{default:!0}})}),e(P,it)},$$slots:{default:!0}})}),e(zt,rt)},$$slots:{default:!0}})});var Ct=l(wt,2);r(Ct,()=>ke,(bt,xt)=>{xt(bt,{children:(zt,ft)=>{var rt=Qa(),at=n(rt);r(at,()=>Ce,(K,I)=>{I(K,{children:(P,st)=>{var it=Ja(),nt=n(it);r(nt,()=>Te,(v,_)=>{_(v,{children:(q,$)=>{w();var y=B("Alert");e(q,y)},$$slots:{default:!0}})});var m=l(nt,2);r(m,()=>fr,(v,_)=>{_(v,{children:(q,$)=>{w();var y=B("Apakah yakin ingin menghapus tugas ini?");e(q,y)},$$slots:{default:!0}})}),e(P,it)},$$slots:{default:!0}})});var ht=l(at,2);r(ht,()=>Re,(K,I)=>{I(K,{children:(P,st)=>{Se(P,{variant:"destructive",onclick:R,children:(it,nt)=>{w();var m=B("Iya");e(it,m)},$$slots:{default:!0}})},$$slots:{default:!0}})}),e(zt,rt)},$$slots:{default:!0}})}),e(ct,ut)},$$slots:{default:!0}})}),Z(c),Z(D);var F=l(D,2);r(F,()=>Qe,(E,et)=>{et(E,{children:(ct,Pe)=>{var ut=g(),wt=n(ut);r(wt,()=>We,(Ct,bt)=>{bt(Ct,{children:(xt,zt)=>{var ft=Xa(),rt=l(n(ft),2),at=X(rt,!0);Z(rt);var ht=l(rt,2);Kt(ht,()=>t.data.assignment.status==="open",K=>{Ze(K,{children:(I,P)=>{w();var st=B("Dibuka");e(I,st)},$$slots:{default:!0}})},K=>{Ze(K,{variant:"destructive",children:(I,P)=>{w();var st=B("Ditutup");e(I,st)},$$slots:{default:!0}})}),W(()=>Vt(at,t.data.assignment.description)),e(xt,ft)},$$slots:{default:!0}})}),e(ct,ut)},$$slots:{default:!0}})});var H=l(F,2);r(H,()=>Qe,(E,et)=>{et(E,{children:(ct,Pe)=>{var ut=g(),wt=n(ut);r(wt,()=>We,(Ct,bt)=>{bt(Ct,{children:(xt,zt)=>{var ft=ls(),rt=l(n(ft),2),at=X(rt);qe(at,17,()=>{var I;return(I=t.data.assignment.expand)==null?void 0:I.attachments},Ye,(I,P)=>{var st=rs(),it=n(st),nt=X(it),m=C(()=>i(P).type==="application"?"mdi:file":i(P).type==="image"?"mdi:file-image":i(P).type==="video"?"mdi:file-video":"mdi:file-document-alert");Jt(nt,{get icon(){return i(m)},class:"text-4xl text-slate-700"});var v=l(nt,2);W(()=>Je(v,"href",tr.files.getURL(i(P),i(P).file)));var _=X(v,!0);Z(v);var q=l(v,2);r(q,()=>De,(y,Y)=>{Y(y,{children:(b,O)=>{var M=es(),N=n(M),vt=C(()=>jt(Xe({variant:"outline",size:"icon"})));r(N,()=>Ie,(lt,_t)=>{_t(lt,{get class(){return i(vt)},children:(ot,J)=>{Jt(ot,{icon:"mdi:trash-can-outline",class:"text-destructive"})},$$slots:{default:!0}})});var j=l(N,2);r(j,()=>ke,(lt,_t)=>{_t(lt,{children:(ot,J)=>{var Q=ts(),mt=n(Q);r(mt,()=>Ce,(L,G)=>{G(L,{children:(dt,Ot)=>{var gt=Za(),At=n(gt);r(At,()=>Te,(Bt,yt)=>{yt(Bt,{children:(Tt,Gt)=>{w();var Yt=B("Alert");e(Tt,Yt)},$$slots:{default:!0}})});var Pt=l(At,2);r(Pt,()=>fr,(Bt,yt)=>{yt(Bt,{children:(Tt,Gt)=>{w();var Yt=B("Yakin menghapus file?");e(Tt,Yt)},$$slots:{default:!0}})}),e(dt,gt)},$$slots:{default:!0}})});var z=l(mt,2);r(z,()=>Re,(L,G)=>{G(L,{children:(dt,Ot)=>{Se(dt,{variant:"destructive",onclick:()=>V(i(P).id),children:(gt,At)=>{w();var Pt=B("Iya");e(gt,Pt)},$$slots:{default:!0}})},$$slots:{default:!0}})}),e(ot,Q)},$$slots:{default:!0}})}),e(b,M)},$$slots:{default:!0}})}),Z(it);var $=l(it,2);Vr($,{class:"last:hidden"}),W(()=>Vt(_,i(P).name)),e(I,st)});var K=l(at,2);r(K,()=>De,(I,P)=>{P(I,{children:(st,it)=>{var nt=ns(),m=n(nt),v=C(()=>jt(Xe({variant:"default"})));r(m,()=>Ie,(q,$)=>{$(q,{get class(){return i(v)},children:(y,Y)=>{var b=as(),O=n(b);Jt(O,{icon:"mdi:plus",class:"text-xl"}),w(),e(y,b)},$$slots:{default:!0}})});var _=l(m,2);r(_,()=>ke,(q,$)=>{$(q,{children:(y,Y)=>{var b=is(),O=X(b);r(O,()=>Ce,(vt,j)=>{j(vt,{children:(lt,_t)=>{var ot=g(),J=n(ot);r(J,()=>Te,(Q,mt)=>{mt(Q,{children:(z,L)=>{w();var G=B("Tambah file");e(z,G)},$$slots:{default:!0}})}),e(lt,ot)},$$slots:{default:!0}})});var M=l(O,2);r(M,()=>Kr,(vt,j)=>{j(vt,{form:p,name:"attachment",children:(lt,_t)=>{var ot=os(),J=n(ot);r(J,()=>qr,(mt,z)=>{z(mt,{children:(G,dt)=>{let Ot=()=>dt==null?void 0:dt().props;var gt=ss(),At=n(gt);r(At,()=>Jr,(yt,Tt)=>{Tt(yt,{children:(Gt,Yt)=>{w();var Nt=B("File");e(Gt,Nt)},$$slots:{default:!0}})});var Pt=l(At,2);Fr(Pt);let Bt;W(()=>Bt=le(Pt,Bt,{...Ot(),type:"file",class:jt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50")})),Er(Pt,d,yt=>Rr(T,yt)),e(G,gt)},$$slots:{default:!0}})});var Q=l(J,2);r(Q,()=>Yr,(mt,z)=>{z(mt,{class:"[&_*]:text-[0.8rem]"})}),e(lt,ot)},$$slots:{default:!0}})});var N=l(M,2);r(N,()=>Re,(vt,j)=>{j(vt,{children:(lt,_t)=>{Se(lt,{type:"submit",children:(ot,J)=>{w();var Q=B("Submit");e(ot,Q)},$$slots:{default:!0}})},$$slots:{default:!0}})}),Z(b),e(y,b)},$$slots:{default:!0}})}),e(st,nt)},$$slots:{default:!0}})}),Z(rt),e(xt,ft)},$$slots:{default:!0}})}),e(ct,ut)},$$slots:{default:!0}})});var kt=l(H,2);r(kt,()=>Qe,(E,et)=>{et(E,{class:"xl:col-span-2",children:(ct,Pe)=>{var ut=g(),wt=n(ut);r(wt,()=>We,(Ct,bt)=>{bt(Ct,{children:(xt,zt)=>{var ft=_s(),rt=l(n(ft),2);Kt(rt,()=>t.data.userAssignments.length>0,at=>{var ht=g(),K=n(ht);r(K,()=>Ha,(I,P)=>{P(I,{type:"single",children:(st,it)=>{var nt=g(),m=n(nt);qe(m,17,()=>t.data.userAssignments,Ye,(v,_)=>{var q=g(),$=n(q);r($,()=>Ma,(y,Y)=>{Y(y,{get value(){return i(_).id},children:(b,O)=>{var M=fs(),N=n(M);r(N,()=>Ga,(j,lt)=>{lt(j,{class:"gap-3",children:(_t,ot)=>{w();var J=ds(),Q=n(J),mt=l(Q);Ze(mt,{class:"ml-auto",children:(z,L)=>{w();var G=B();W(()=>Vt(G,i(_).grade?i(_).grade:"?")),e(z,G)},$$slots:{default:!0}}),W(()=>{var z;return Vt(Q,`${((z=i(_).expand)==null?void 0:z.user.name)??""} `)}),e(_t,J)},$$slots:{default:!0}})});var vt=l(N,2);r(vt,()=>Va,(j,lt)=>{lt(j,{children:(_t,ot)=>{var J=vs(),Q=X(J);qe(Q,17,()=>{var L;return(L=i(_).expand)==null?void 0:L.attachments},Ye,(L,G)=>{var dt=cs();W(()=>Je(dt,"href",tr.files.getURL(i(G),i(G).file)));var Ot=X(dt,!0);Z(dt),W(()=>Vt(Ot,i(G).name)),e(L,dt)});var z=l(Q,2);r(z,()=>De,(L,G)=>{G(L,{children:(dt,Ot)=>{var gt=hs(),At=n(gt),Pt=C(()=>jt(Xe({size:"sm"}),"mt-2 w-fit"));r(At,()=>Ie,(yt,Tt)=>{Tt(yt,{get class(){return i(Pt)},children:(Gt,Yt)=>{w();var Nt=B("Edit nilai");e(Gt,Nt)},$$slots:{default:!0}})});var Bt=l(At,2);r(Bt,()=>ke,(yt,Tt)=>{Tt(yt,{children:(Gt,Yt)=>{var Nt=us(),ar=X(Nt);r(ar,()=>Ce,(Ht,Le)=>{Le(Ht,{children:(Ue,br)=>{var ye=g(),or=n(ye);r(or,()=>Te,(Ke,xr)=>{xr(Ke,{children:(Pr,$s)=>{w();var yr=B("Edit nilai");e(Pr,yr)},$$slots:{default:!0}})}),e(Ue,ye)},$$slots:{default:!0}})});var sr=l(ar,2);sa(sr,{type:"number",name:"grade",get value(){return i(_).grade},set value(Ht){i(_).grade=Ht}});var pr=l(sr,2);r(pr,()=>Re,(Ht,Le)=>{Le(Ht,{children:(Ue,br)=>{Se(Ue,{type:"submit",children:(ye,or)=>{w();var Ke=B("Submit");e(ye,Ke)},$$slots:{default:!0}})},$$slots:{default:!0}})}),Z(Nt),Tr("submit",Nt,async Ht=>{Ht.preventDefault(),await tr.collection("userAssignments").update(i(_).id,{grade:i(_).grade}),oa()}),e(Gt,Nt)},$$slots:{default:!0}})}),e(dt,gt)},$$slots:{default:!0}})}),Z(J),e(_t,J)},$$slots:{default:!0}})}),e(b,M)},$$slots:{default:!0}})}),e(v,q)}),e(st,nt)},$$slots:{default:!0}})}),e(at,ht)},at=>{var ht=ms();e(at,ht)}),e(xt,ft)},$$slots:{default:!0}})}),e(ct,ut)},$$slots:{default:!0}})}),Z(S),W(()=>Vt(tt,t.data.assignment.name)),e(o,S),Et()}export{Ws as component};
