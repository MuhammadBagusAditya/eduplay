var wt=Object.defineProperty;var Tt=Object.getPrototypeOf;var St=Reflect.get;var et=t=>{throw TypeError(t)};var Ot=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ze=(t,e,n)=>Ot(t,typeof e!="symbol"?e+"":e,n),qe=(t,e,n)=>e.has(t)||et("Cannot "+n);var s=(t,e,n)=>(qe(t,e,"read from private field"),n?n.call(t):e.get(t)),c=(t,e,n)=>e.has(t)?et("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),v=(t,e,n,r)=>(qe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),L=(t,e,n)=>(qe(t,e,"access private method"),n);var je=(t,e,n,r)=>({set _(o){v(t,e,o,n)},get _(){return s(t,e,r)}}),tt=(t,e,n)=>St(Tt(t),n,e);import{l as nt,m as Lt,C as At,aN as Pt,aO as Nt,j as _t,o as It,k as Dt,q as xt,as as Ft,u as g,al as ft,aP as Rt,aQ as Ct,aR as Ut,e as I,aS as Mt,g as u,b as y,h as D,d as Ae,p as G,f as x,i as J,a as Q,aT as kt,_ as $,aB as Bt}from"./runtime.Bp4x7A-a.js";import"./disclose-version.Bg9kRutz.js";import{c as F,a as R}from"./template.DQ3Ggw9n.js";import{p as w,i as ht,c as E,w as Kt,x as rt}from"./props.DpK8ESsy.js";import{s as X}from"./snippet.DzwRyOEQ.js";import{b as m,a as Ze,e as de,u as mt,f as Ht}from"./use-id.B41njTOf.js";import{i as le}from"./utils.Du759zP0.js";function Vt(t,e,n){nt&&Lt();var r=t,o=Ft,i,l=At()?Pt:Nt;_t(()=>{l(o,o=e())&&(i&&It(i),i=Dt(()=>n(r)))}),nt&&(r=xt)}function Wt(t){g(()=>()=>{t()})}function vt(t,e){setTimeout(e,t)}function We(t){ft().then(t)}const kn="ArrowDown",Bn="ArrowLeft",Kn="ArrowRight",Hn="ArrowUp",Vn="End",Wn="Enter",zt="Escape",zn="Home",qn="PageDown",jn="PageUp",Gn=" ",qt="Tab",Je=typeof document<"u",st=jt();function jt(){var t,e;return Je&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ie(t){return t instanceof HTMLElement}function Gt(t){return t instanceof Element}function Qn(t){return t instanceof Element||t instanceof SVGElement}function Yn(t){return t!==null}function Qt(t){return t instanceof HTMLInputElement&&"select"in t}function Yt(t,e){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function it(t,e){return Rt(t,e)}function Zt(t,e){const n=t,r=typeof t=="symbol"?t.description:t;if(!Ct(n)){if(e===void 0)throw new Error(`Missing context dependency: ${r} and no fallback was provided.`);return e}return Ut(t)}function Jt(t,e){return e!==void 0?e:typeof t=="string"&&e===void 0?`${t}Context`:Array.isArray(t)&&e===void 0?`${t[0]}Context`:e!==void 0?e:`${t}Context`}function Zn(t,e,n=!0){const r=Jt(t,e),o=Symbol.for(`bits-ui.${r}`),i=r;function l(f){const h=Zt(n?o:i,f);if(h===void 0)throw new Error(`Context \`${r}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`);return h}function d(f){return it(n?o:i,f)}return[d,l]}function O(){}var ee,fe,V,Y,j,Ge,Qe;class Xt{constructor(e,n){c(this,j);c(this,ee,I());c(this,fe);c(this,V,0);c(this,Y,null);s(this,ee).v=w(e),v(this,fe,n)}get current(){return Mt()?g(()=>(je(this,V)._++,s(this,V)===1&&L(this,j,Ge).call(this,!0),()=>{ft().then(()=>{je(this,V)._--,s(this,V)===0&&L(this,j,Qe).call(this)})})):s(this,V)===0&&(L(this,j,Ge).call(this,!1),L(this,j,Qe).call(this)),u(s(this,ee))}}ee=new WeakMap,fe=new WeakMap,V=new WeakMap,Y=new WeakMap,j=new WeakSet,Ge=function(e){v(this,Y,s(this,fe).call(this,n=>{y(s(this,ee),w(n))},e)??null)},Qe=function(){s(this,Y)!==null&&(s(this,Y).call(this),v(this,Y,null))};const Jn=new Xt(null,(t,e)=>{function n(){t(document.activeElement)}if(n(),!!e)return document.addEventListener("focusin",n),document.addEventListener("focusout",n),()=>{document.removeEventListener("focusin",n),document.removeEventListener("focusout",n)}});var he,me;class $t{constructor(e){c(this,he,I());c(this,me);g(()=>{y(s(this,he),w(s(this,me))),v(this,me,e())})}get current(){return u(s(this,he))}}he=new WeakMap,me=new WeakMap;function en(t,e){const n=m(t);function r(i){return e[n.current][i]??n.current}return{state:n,dispatch:i=>{n.current=r(i)}}}function tn(t,e){let n=I(w({})),r=I("none");const o=t.current?"mounted":"unmounted";let i=I(null);const l=new $t(()=>t.current);g(()=>{e.current&&t.current&&We(()=>{y(i,w(document.getElementById(e.current)))})});const{state:d,dispatch:f}=en(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});g(()=>{const p=t.current;D(()=>{if(u(i)||y(i,w(document.getElementById(e.current))),!u(i)||!(p!==l.current))return;const a=u(r),b=Pe(u(i));p?f("MOUNT"):b==="none"||u(n).display==="none"?f("UNMOUNT"):f(l&&a!==b?"ANIMATION_OUT":"UNMOUNT")})});function h(p){if(u(i)||y(i,w(document.getElementById(e.current))),!u(i))return;const k=Pe(u(i)),a=k.includes(p.animationName)||k==="none";p.target===u(i)&&a&&f("ANIMATION_END")}function S(p){u(i)||y(i,w(document.getElementById(e.current))),u(i)&&p.target===u(i)&&y(r,w(Pe(u(i))))}g(()=>{d.current,D(()=>{if(u(i)||y(i,w(document.getElementById(e.current))),!u(i))return;const p=Pe(u(i));y(r,w(d.current==="mounted"?p:"none"))})}),g(()=>{if(u(i))return y(n,w(getComputedStyle(u(i)))),u(i).addEventListener("animationstart",S),u(i).addEventListener("animationcancel",h),u(i).addEventListener("animationend",h),()=>{var p,k,a;(p=u(i))==null||p.removeEventListener("animationstart",S),(k=u(i))==null||k.removeEventListener("animationcancel",h),(a=u(i))==null||a.removeEventListener("animationend",h)}});const C=Ae(()=>["mounted","unmountSuspended"].includes(d.current));return{get current(){return u(C)}}}function Pe(t){return t&&getComputedStyle(t).animationName||"none"}function Xn(t,e){G(e,!0);const n=tn(m.with(()=>e.present),m.with(()=>e.id));var r=F(),o=x(r);ht(o,()=>e.forceMount||e.present||n.current,i=>{var l=F(),d=x(l);X(d,()=>e.presence??J,()=>({present:n})),R(i,l)}),R(t,r),Q()}function nn(t,e){G(e,!0);var n=F(),r=x(n);Vt(r,()=>e.children,o=>{var i=F(),l=x(i);X(l,()=>e.children??J),R(o,i)}),R(t,n),Q()}function $n(t,e){G(e,!0);let n=E(e,"to",3,"body");const r=kt();let o=Ae(i);function i(){if(!Je||e.disabled)return null;let h=null;return typeof n()=="string"?h=document.querySelector(n()):(n()instanceof HTMLElement||n()instanceof DocumentFragment)&&(h=n()),h}let l;g(()=>{if(!u(o)||e.disabled){l&&(rt(l),l=null);return}return D(()=>l=Kt(nn,{target:u(o),props:{children:e.children},context:r})),()=>{l&&(rt(l),l=null)}});var d=F(),f=x(d);ht(f,()=>e.disabled,h=>{var S=F(),C=x(S);X(C,()=>e.children??J),R(h,S)}),R(t,d),Q()}function _(t,e,n,r){const o=Array.isArray(e)?e:[e];return o.forEach(i=>t.addEventListener(i,n,r)),()=>{o.forEach(i=>t.removeEventListener(i,n,r))}}function ot(t,e=500){let n=null;const r=(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...o)},e)};return r.destroy=()=>{n!==null&&(clearTimeout(n),n=null)},r}function Xe(t,e){return t===e||t.contains(e)}function yt(t){return(t==null?void 0:t.ownerDocument)??document}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var te,Z,W,ne,z,re,se,ve,ye,ge,U,De,ae,gt,xe,ie,Fe,Re,Ce,Ue,be,bt,Me,ke;class rn{constructor(e){c(this,ae);c(this,te);c(this,Z);c(this,W,{pointerdown:!1});c(this,ne,!1);ze(this,"node",m(null));c(this,z);c(this,re);c(this,se,I(!1));c(this,ve);c(this,ye,I(null));c(this,ge);c(this,U,O);c(this,De,e=>{e.defaultPrevented||this.currNode&&We(()=>{var n,r;!this.currNode||s(this,Ue).call(this,e.target)||e.target&&!u(s(this,se))&&((r=(n=s(this,ve)).current)==null||r.call(n,e))})});c(this,xe,e=>{let n=e;n.defaultPrevented&&(n=ut(e)),s(this,te).current(e)});c(this,ie,ot(e=>{if(!this.currNode){s(this,U).call(this);return}const n=s(this,ge).current(e,this.currNode)||cn(e,this.currNode);if(!s(this,ne)||L(this,ae,bt).call(this)||!n){s(this,U).call(this);return}let r=e;if(r.defaultPrevented&&(r=ut(r)),s(this,Z).current!=="close"&&s(this,Z).current!=="defer-otherwise-close"){s(this,U).call(this);return}e.pointerType==="touch"?(s(this,U).call(this),v(this,U,_(s(this,z),"click",s(this,xe),{once:!0}))):s(this,te).current(r)},10));c(this,Fe,e=>{s(this,W)[e.type]=!0});c(this,Re,e=>{s(this,W)[e.type]=!1});c(this,Ce,()=>{this.node.current&&v(this,ne,un(this.node.current))});c(this,Ue,e=>this.node.current?Xe(this.node.current,e):!1);c(this,be,ot(()=>{for(const e in s(this,W))s(this,W)[e]=!1;v(this,ne,!1)},20));c(this,Me,()=>{y(s(this,se),!0)});c(this,ke,()=>{y(s(this,se),!1)});ze(this,"props",{onfocuscapture:s(this,Me),onblurcapture:s(this,ke)});v(this,re,e.enabled),v(this,ge,e.isValidEvent),Ze({id:e.id,ref:this.node,deps:()=>s(this,re).current,onRefChange:o=>{this.currNode=o}}),v(this,Z,e.interactOutsideBehavior),v(this,te,e.onInteractOutside),v(this,ve,e.onFocusOutside),g(()=>{v(this,z,yt(this.currNode))});let n=O;const r=()=>{s(this,be).call(this),globalThis.bitsDismissableLayers.delete(this),s(this,ie).destroy(),n()};g(()=>(s(this,re).current&&this.currNode&&vt(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,D(()=>s(this,Z))),n(),n=L(this,ae,gt).call(this))}),()=>{r()})),Wt(()=>{s(this,be).destroy(),globalThis.bitsDismissableLayers.delete(this),s(this,ie).destroy(),s(this,U).call(this),n()})}get currNode(){return u(s(this,ye))}set currNode(e){y(s(this,ye),w(e))}}te=new WeakMap,Z=new WeakMap,W=new WeakMap,ne=new WeakMap,z=new WeakMap,re=new WeakMap,se=new WeakMap,ve=new WeakMap,ye=new WeakMap,ge=new WeakMap,U=new WeakMap,De=new WeakMap,ae=new WeakSet,gt=function(){return de(_(s(this,z),"pointerdown",de(s(this,Fe),s(this,Ce)),!0),_(s(this,z),"pointerdown",de(s(this,Re),s(this,ie))),_(s(this,z),"focusin",s(this,De)))},xe=new WeakMap,ie=new WeakMap,Fe=new WeakMap,Re=new WeakMap,Ce=new WeakMap,Ue=new WeakMap,be=new WeakMap,bt=function(){return Object.values(s(this,W)).some(Boolean)},Me=new WeakMap,ke=new WeakMap;function sn(t){return new rn(t)}function on(t){return t.findLast(([e,{current:n}])=>n==="close"||n==="ignore")}function un(t){const e=[...globalThis.bitsDismissableLayers],n=on(e);if(n)return n[0].node.current===t;const[r]=e[0];return r.node.current===t}function cn(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;return Gt(n)?yt(n).documentElement.contains(n)&&!Xe(e,n):!1}function ut(t){const e=t.currentTarget,n=t.target;let r;t instanceof PointerEvent?r=new PointerEvent(t.type,t):r=new PointerEvent("pointerdown",t);let o=!1;return new Proxy(r,{get:(l,d)=>d==="currentTarget"?e:d==="target"?n:d==="preventDefault"?()=>{o=!0,typeof l.preventDefault=="function"&&l.preventDefault()}:d==="defaultPrevented"?o:d in l?l[d]:t[d]})}function er(t,e){G(e,!0);let n=E(e,"interactOutsideBehavior",3,"close"),r=E(e,"onInteractOutside",3,O),o=E(e,"onFocusOutside",3,O),i=E(e,"isValidEvent",3,()=>!1);const l=sn({id:m.with(()=>e.id),interactOutsideBehavior:m.with(()=>n()),onInteractOutside:m.with(()=>r()),enabled:m.with(()=>e.enabled),onFocusOutside:m.with(()=>o()),isValidEvent:m.with(()=>i())});var d=F(),f=x(d);X(f,()=>e.children??J,()=>({props:l.props})),R(t,d),Q()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Ee,oe,pe,Be,Ke;class an{constructor(e){c(this,Ee);c(this,oe);c(this,pe);c(this,Be,()=>_(document,"keydown",s(this,Ke),{passive:!1}));c(this,Ke,e=>{if(e.key!==zt||!dn(this))return;const n=new KeyboardEvent(e.type,e);e.preventDefault();const r=s(this,oe).current;r!=="close"&&r!=="defer-otherwise-close"||s(this,Ee).current(n)});v(this,oe,e.escapeKeydownBehavior),v(this,Ee,e.onEscapeKeydown),v(this,pe,e.enabled);let n=O;g(()=>(s(this,pe).current&&(globalThis.bitsEscapeLayers.set(this,D(()=>s(this,oe))),n=s(this,Be).call(this)),()=>{n(),globalThis.bitsEscapeLayers.delete(this)}))}}Ee=new WeakMap,oe=new WeakMap,pe=new WeakMap,Be=new WeakMap,Ke=new WeakMap;function ln(t){return new an(t)}function dn(t){const e=[...globalThis.bitsEscapeLayers],n=e.findLast(([o,{current:i}])=>i==="close"||i==="ignore");if(n)return n[0]===t;const[r]=e[0];return r===t}function tr(t,e){G(e,!0);let n=E(e,"escapeKeydownBehavior",3,"close"),r=E(e,"onEscapeKeydown",3,O);ln({escapeKeydownBehavior:m.with(()=>n()),onEscapeKeydown:m.with(()=>r()),enabled:m.with(()=>e.enabled)});var o=F(),i=x(o);X(i,()=>e.children??J),R(t,o),Q()}const fn=m([]);function hn(){const t=fn;return{add(e){const n=t.current[0];e.id!==(n==null?void 0:n.id)&&(n==null||n.pause()),t.current=ct(t.current,e),t.current.unshift(e)},remove(e){var n;t.current=ct(t.current,e),(n=t.current[0])==null||n.resume()}}}function mn(){let t=I(!1);return{id:mt(),get paused(){return u(t)},pause(){y(t,!0)},resume(){y(t,!1)}}}function ct(t,e){return[...t].filter(n=>n.id!==e.id)}function vn(t){return t.filter(e=>e.tagName!=="A")}function H(t,{select:e=!1}={}){if(!(t&&t.focus))return;const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Qt(t)&&e&&t.select()}function yn(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(H(r,{select:e}),document.activeElement!==n)return!0}function at(t,e){for(const n of t)if(!Yt(n,e))return n}function Et(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gn(t){const e=Et(t),n=at(e,t),r=at(e.reverse(),t);return[n,r]}const bn="focusScope.autoFocusOnMount",En="focusScope.autoFocusOnDestroy",lt={bubbles:!1,cancelable:!0};function pn({id:t,loop:e,enabled:n,onOpenAutoFocus:r,onCloseAutoFocus:o,forceMount:i}){const l=hn(),d=mn(),f=m(null);Ze({id:t,ref:f,deps:()=>n.current});let h=I(null);g(()=>{const a=f.current;if(!a||!n.current)return;function b(A){if(d.paused||!a)return;const T=A.target;Ie(T)&&(a.contains(T)?y(h,w(T)):H(u(h),{select:!0}))}function B(A){if(d.paused||!a)return;const T=A.relatedTarget;Ie(T)&&T!==null&&(a.contains(T)||H(u(h),{select:!0}))}function K(A){(a==null?void 0:a.contains(u(h)))||H(a)}return D(()=>{const A=de(_(document,"focusin",b),_(document,"focusout",B)),T=new MutationObserver(K);return T.observe(a,{childList:!0,subtree:!0}),()=>{A(),T.disconnect()}})}),g(()=>{if(i.current)return;let a=f.current;const b=document.activeElement;return D(()=>{S(a,b)}),()=>{a&&C(b)}}),g(()=>{if(!i.current)return;n.current;const a=f.current,b=document.activeElement;return D(()=>{S(a,b)}),()=>{a&&C(b)}});function S(a,b){if(a||(a=document.getElementById(t.current)),!a)return;if(l.add(d),!a.contains(b)){const K=new CustomEvent(bn,lt);r.current(K),K.defaultPrevented||We(()=>{a&&(yn(vn(Et(a)),{select:!0}),document.activeElement===b&&H(a))})}}function C(a){const b=new CustomEvent(En,lt);o.current(b),setTimeout(()=>{!b.defaultPrevented&&a&&H(a??document.body,{select:!0}),l.remove(d)},0)}function p(a){if(!n.current||!e.current&&!n.current||d.paused)return;const b=a.key===qt&&!a.ctrlKey&&!a.altKey&&!a.metaKey,B=document.activeElement;if(!(b&&B))return;const K=f.current;if(!K)return;const[A,T]=gn(K);A&&T?!a.shiftKey&&B===T?(a.preventDefault(),e.current&&H(A,{select:!0})):a.shiftKey&&B===A&&(a.preventDefault(),e.current&&H(T,{select:!0})):B===K&&a.preventDefault()}const k=Ae(()=>({id:t.current,tabindex:-1,onkeydown:p}));return{get props(){return u(k)}}}function nr(t,e){G(e,!0);let n=E(e,"trapFocus",3,!1),r=E(e,"loop",3,!1),o=E(e,"onCloseAutoFocus",3,O),i=E(e,"onOpenAutoFocus",3,O),l=E(e,"forceMount",3,!1);const d=pn({enabled:m.with(()=>n()),loop:m.with(()=>r()),onCloseAutoFocus:m.with(()=>o()),onOpenAutoFocus:m.with(()=>i()),id:m.with(()=>e.id),forceMount:m.with(()=>l())});var f=F(),h=x(f);X(h,()=>e.focusScope??J,()=>({props:d.props})),R(t,f),Q()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var we,Te,Se,q,ue,Oe,He,pt,Ve,Le;class wn{constructor(e){c(this,He);c(this,we);c(this,Te);c(this,Se);c(this,q);c(this,ue,O);c(this,Oe,m(null));c(this,Ve,e=>{const n=s(this,Oe).current,r=e.target;!Ie(n)||!Ie(r)||!s(this,q).current||!On(this)||!Xe(n,r)||(s(this,Te).current(e),!e.defaultPrevented&&v(this,ue,Sn(n)))});c(this,Le,()=>{s(this,ue).call(this),v(this,ue,O)});v(this,we,e.id),v(this,q,e.preventOverflowTextSelection),v(this,Te,e.onPointerDown),v(this,Se,e.onPointerUp),Ze({id:s(this,we),ref:s(this,Oe),deps:()=>s(this,q).current});let n=O;g(()=>(s(this,q).current&&(globalThis.bitsTextSelectionLayers.set(this,D(()=>s(this,q))),n=L(this,He,pt).call(this)),()=>{n(),s(this,Le).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}we=new WeakMap,Te=new WeakMap,Se=new WeakMap,q=new WeakMap,ue=new WeakMap,Oe=new WeakMap,He=new WeakSet,pt=function(){return de(_(document,"pointerdown",s(this,Ve)),_(document,"pointerup",Ht(s(this,Le),s(this,Se))))},Ve=new WeakMap,Le=new WeakMap;function Tn(t){return new wn(t)}const dt=t=>t.style.userSelect||t.style.webkitUserSelect;function Sn(t){const e=document.body,n=dt(e),r=dt(t);return Ne(e,"none"),Ne(t,"text"),()=>{Ne(e,n),Ne(t,r)}}function Ne(t,e){t.style.userSelect=e,t.style.webkitUserSelect=e}function On(t){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const n=e.at(-1);return n?n[0]===t:!1}function rr(t,e){G(e,!0);let n=E(e,"preventOverflowTextSelection",3,!0),r=E(e,"onPointerDown",3,O),o=E(e,"onPointerUp",3,O);Tn({id:m.with(()=>e.id),preventOverflowTextSelection:m.with(()=>n()),onPointerDown:m.with(()=>r()),onPointerUp:m.with(()=>o()),enabled:m.with(()=>e.enabled)});var i=F(),l=x(i);X(l,()=>e.children??J),R(t,i),Q()}var P,N,M,ce,_e;const $e=class $e extends Map{constructor(n){super();c(this,ce);c(this,P,new Map);c(this,N,$(0));c(this,M,$(0));if(n){for(var[r,o]of n)super.set(r,o);s(this,M).v=super.size}}has(n){var r=s(this,P),o=r.get(n);if(o===void 0){var i=super.get(n);if(i!==void 0)o=$(0),r.set(n,o);else return u(s(this,N)),!1}return u(o),!0}forEach(n,r){L(this,ce,_e).call(this),super.forEach(n,r)}get(n){var r=s(this,P),o=r.get(n);if(o===void 0){var i=super.get(n);if(i!==void 0)o=$(0),r.set(n,o);else{u(s(this,N));return}}return u(o),super.get(n)}set(n,r){var C;var o=s(this,P),i=o.get(n),l=super.get(n),d=super.set(n,r),f=s(this,N);if(i===void 0)o.set(n,$(0)),y(s(this,M),super.size),le(f);else if(l!==r){le(i);var h=f.reactions===null?null:new Set(f.reactions),S=h===null||!((C=i.reactions)!=null&&C.every(p=>h.has(p)));S&&le(f)}return d}delete(n){var r=s(this,P),o=r.get(n),i=super.delete(n);return o!==void 0&&(r.delete(n),y(s(this,M),super.size),y(o,-1),le(s(this,N))),i}clear(){if(super.size!==0){super.clear();var n=s(this,P);y(s(this,M),0);for(var r of n.values())y(r,-1);le(s(this,N)),n.clear()}}keys(){return u(s(this,N)),super.keys()}values(){return L(this,ce,_e).call(this),super.values()}entries(){return L(this,ce,_e).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return u(s(this,M)),super.size}};P=new WeakMap,N=new WeakMap,M=new WeakMap,ce=new WeakSet,_e=function(){u(s(this,N));var n=s(this,P);if(s(this,M).v!==n.size)for(var r of tt($e.prototype,this,"keys").call(this))n.has(r)||n.set(r,$(0));for(var[,o]of s(this,P))u(o)};let Ye=$e;function Ln(t){let e=0,n=I(void 0),r;function o(){e-=1,r&&e<=0&&(r(),y(n,void 0),r=void 0)}return(...i)=>(e+=1,u(n)===void 0&&(r=Bt(()=>{y(n,w(t(...i)))})),g(()=>()=>{o()}),u(n))}const An=Ln(()=>{const t=new Ye,e=Ae(()=>{for(const i of t.values())if(i)return!0;return!1});let n=w({}),r=null;function o(){Je&&(document.body.style.paddingRight=n.paddingRight??"",document.body.style.marginRight=n.marginRight??"",document.body.style.pointerEvents=n.pointerEvents??"",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.overflow??"",st&&(r==null||r()))}return g(()=>{const i=u(e);return D(()=>{if(!i)return;const l=getComputedStyle(document.body);n.overflow=l.overflow,n.paddingRight=l.paddingRight,n.marginRight=l.marginRight,n.pointerEvents=l.pointerEvents;const d=window.innerWidth-document.documentElement.clientWidth,h={padding:Number.parseInt(n.paddingRight??"0",10)+d,margin:Number.parseInt(n.marginRight??"0",10)};d>0&&(document.body.style.paddingRight=`${h.padding}px`,document.body.style.marginRight=`${h.margin}px`,document.body.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),st&&(r=_(document,"touchmove",S=>{S.target===document.documentElement&&(S.touches.length>1||S.preventDefault())},{passive:!1})),We(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),g(()=>()=>{r==null||r()}),{get map(){return t},resetBodyStyle:o}});function Pn(t,e=()=>null){const n=mt(),r=An(),o=Ae(e);r.map.set(n,t??!1);const i=m.with(()=>r.map.get(n)??!1,l=>r.map.set(n,l));return g(()=>()=>{r.map.delete(n),!Nn(r.map)&&(u(o)===null?requestAnimationFrame(()=>r.resetBodyStyle()):vt(u(o),()=>r.resetBodyStyle()))}),i}function Nn(t){for(const[e,n]of t)if(n)return!0;return!1}function sr(t,e){G(e,!0);let n=E(e,"preventScroll",3,!0),r=E(e,"restoreScrollDelay",3,null);Pn(n(),()=>r()),Q()}export{Bn as A,er as D,Vn as E,nr as F,zn as H,$n as P,Gn as S,rr as T,Kn as a,kn as b,Hn as c,Zn as d,Ye as e,Wn as f,Xn as g,tr as h,Je as i,sr as j,We as k,Jn as l,qn as m,O as n,jn as o,Wt as p,Ie as q,qt as r,yn as s,Gt as t,Qn as u,_ as v,$t as w,Yn as x};
