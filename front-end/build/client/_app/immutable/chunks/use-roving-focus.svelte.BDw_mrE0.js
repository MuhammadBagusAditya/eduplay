import{b as N}from"./use-id.B41njTOf.js";import{A as y,a as m,b as s,c as f,H as z,E,i as O}from"./scroll-lock.Cdff5hXG.js";function C(t){return window.getComputedStyle(t).getPropertyValue("direction")}function D(t="ltr",n="horizontal"){return{horizontal:t==="rtl"?y:m,vertical:s}[n]}function F(t="ltr",n="horizontal"){return{horizontal:t==="rtl"?m:y,vertical:f}[n]}function W(t="ltr",n="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(n)||(n="horizontal"),{nextKey:D(t,n),prevKey:F(t,n)}}function _(t){const n=t.currentTabStopId?t.currentTabStopId:N(null);function u(){if(!O)return[];const e=document.getElementById(t.rootNodeId.current);return e?t.candidateSelector?Array.from(e.querySelectorAll(t.candidateSelector)):Array.from(e.querySelectorAll(`[${t.candidateAttr}]:not([data-disabled])`)):[]}function v(){var r;const e=u();e.length&&((r=e[0])==null||r.focus())}function K(e,r,a=!1){var A;const g=document.getElementById(t.rootNodeId.current);if(!g||!e)return;const c=u();if(!c.length)return;const l=c.indexOf(e),b=C(g),{nextKey:h,prevKey:I}=W(b,t.orientation.current),x=t.loop.current,d={[h]:l+1,[I]:l-1,[z]:0,[E]:c.length-1};if(a){const S=h===s?m:s,T=I===f?y:f;d[S]=l+1,d[T]=l-1}let o=d[r.key];if(o===void 0)return;r.preventDefault(),o<0&&x?o=c.length-1:o===c.length&&x&&(o=0);const i=c[o];if(i)return i.focus(),n.current=i.id,(A=t.onCandidateFocus)==null||A.call(t,i),i}function R(e){const r=u(),a=n.current!==null;return e&&!a&&r[0]===e?(n.current=e.id,0):(e==null?void 0:e.id)===n.current?0:-1}return{setCurrentTabStopId(e){n.current=e},getTabIndex:R,handleKeydown:K,focusFirstCandidate:v,currentTabStopId:n}}export{_ as u};
